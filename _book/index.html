<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR" xml:lang="ko-KR"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="박찬경">

<title>지역 언론인을 위한 R기반 데이터 저널리즘</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./journalism.html" rel="next">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">서문</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="사이드바 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="검색" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">지역 언론인을 위한 R기반 데이터 저널리즘</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="검색"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">서문</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./journalism.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">데이터 저널리즘이란</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">보도를 위한 데이터과학 기초</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R과 Rstudio 처음 이용하기</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">R의 기초</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">프로젝트와 노트북: 기사작성과 코딩을 동시에!</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Tidyverse의 이해</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./manipulate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">크라우드펀딩 빅데이터 불러오기, 분석 가능한 형태로 만들기</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summarise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">데이터 요약하기 (= 분석하기)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visualize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">데이터 시각화</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./retrieval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">데이터 수집하기</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./story.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">데이터 스토리텔링</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./story2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">웹프로그래밍을 응용한 데이터 스토리텔링 (심화)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix-install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">부록: R과 Rstudio 설치하기</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">목차</h2>
   
  <ul>
  <li><a href="#서문" id="toc-서문" class="nav-link active" data-scroll-target="#서문">서문</a>
  <ul class="collapse">
  <li><a href="#to-dos" id="toc-to-dos" class="nav-link" data-scroll-target="#to-dos">To-do’s</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">지역 언론인을 위한 R기반 데이터 저널리즘</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">저자</div>
    <div class="quarto-title-meta-contents">
             <p>박찬경 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">공개</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2023년 6월 26일</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="서문" class="level1 unnumbered">
<h1 class="unnumbered">서문</h1>
<p>저널리즘이 위기라는 이야기가 들려온지 벌써 십수년이 지났습니다. 그간 디지털화, 소비자 컨텐츠 발굴 등 몇가지 혁신이 있었지만, 지금 돌이켜보면 많은 시도들이 인터넷의 정보 유통 구조 변화를 쫓아가는 방식으로 귀결되면서 결국 미디어가 자생력을 잃고 플랫폼 기업들에게 수익을 내맡기는 결과를 낳고 말았습니다. 그 때문에 서구의 많은 언론사들은 미디어의 본질인 독보적인 콘텐츠의 생산과 이를 통한 독자적인 수익 구조를 추구하는 방식으로 회귀하고 있습니다.</p>
<p>독자적 수익을 창출할 수 있는 독보적 컨텐츠의 생산. 이것은 어쩌면 그간 이어온 한국의 미디어 혁신에서 가장 간과되었던 것들 중 하나입니다. 누구나 취재와 출판, 유통이 가능한 시대에 독보적 컨텐츠는 어떻게 가능하고, 보도의 전문성은 어떻게 확보될 수 있을까요? 데이터 저널리즘은 그에 대한 대답 중 하나 입니다. 대형 언론사들 뿐만 아니라, 미디어 스타트업, 지역 언론사, 제3세계 언론사, 그리고 탐사 저널리즘 등은 그들을 활성화시키기 위한 오래된 숙제의 해법으로 대중들은 접근할 수 사실을 발굴하기 보다는 이미 접근 가능한 대량의 데이터들을 연결하고 분석하고, 전달하는 과정을 통해 새로운 통찰을 전달하는 ’데이터 저널리즘’에 주목하고 있습니다.</p>
<p>문제는 데이터 저널리즘은 기자, 언론사에게 새로운 전문성을 요구한다는 것입니다. 발로 뛰면서 집요하게 진실을 추적하는 전통적인 기자에게 요구되는 덕목과 자질과 달리, 데이터 저널리즘은 책상 앞에서 앉아 데이터들을 발굴하고, 그 안에서 숨어있는 메시지를 찾아내는 능력을 요구합니다. 속보 경쟁을 해야하는 언론인들에게 이러한 전문성을 발휘하는 것도, 그리고 그러한 전문성을 새로이 습득하기 위한 학습 과정도 사치처럼 여겨질 것입니다.</p>
<p>본 교재는 극한의 취재와 보도 경쟁에 내몰려 있지만, 위기에 빠진 언론을 위한 다음 스텝을 고민하는, 공부하는 기자들을 위한 데이터저널리즘 교재 입니다. 본 교재는 데이터 저널리즘에 경험이 없는 언론인들이 가능한 짬을 내어 독학하는 상황을 가정하여 만들었습니다. 이를 위해 다음과 같은 특징을 가지고 있습니다.</p>
<ul>
<li><p>첫째, 온라인으로 만들어 누구나 쉽게 접근할 수 있도록 하였습니다.</p></li>
<li><p>둘째, 실제 보도 상황에 근접한 빅데이터, API를 통해 획득한 비정형 데이터를 이용한 데이터 분석을 바로 시작할 수 있는 예제를 최대한 반영하였습니다.</p></li>
<li><p>셋째, R을 이용하였습니다. 최대한의 유연성을 제공하는 컴퓨터 언어이면서도 무료이고, 간단한 문법을 가지고 있는 데이터 저널리즘 산업의 표준적인 언어 중 하나입니다.</p></li>
<li><p>넷째, 데이터의 분석에만 초점을 맞추지 않았습니다. 데이터 저널리즘의 필요성, 전통적 저널리즘과의 차별성에 주목하였고, 데이터 스토리텔링의 관점에서 필요한 몇 가지 영상 심리학 이론, 시각화 기법등을 구현하는 법에 대해서도 이야기하였습니다. 그리고 배포까지 염두에 두어 바로 웹페이지를 생산할 수 있는 컴퓨팅 환경을 기본으로 사용합니다.</p></li>
</ul>
<p>그렇다고 해서, 이 교재는 완전히 문외한인 언론인만을 위한 것은 아닙니다. 다양한 학습 경험이 있는 언론인들이 유연성 있게 활용할 수 있도록 하기 위해, 각 챕터를 난이도 별로 구분해서 작성하고자 노력했습니다. 이를 최대한 활용하기 위해, 다음과 같은 수준별 학습 방법을 권합니다.</p>
<ul>
<li><p>R또는 프로그래밍이 완전히 처음인 독자: 부록 install 부터.</p></li>
<li><p>R을 접해 보았고 프로그래밍에 대한 초보적인 사전지식이 있으나 거의 활용해보지 않은 독자: 부록을 건너뛰고 처음부터</p></li>
<li><p>R을 활용해 본 경험이 있는 독자: install을 건너뛸 것.</p></li>
<li><p>프로그래밍 경험이 있으나, 데이터 저널리즘에 적용하는 방식에 대해 궁금한 독자: data science, journalism, data storytelling 부분</p></li>
</ul>
<p>그간 데이터 저널리즘에 대한 지식은 여기저기 흩어져 있어, 학습을 원하는 독자들은 조각난 지식들을 모으는데에서 부터 시작해야 했고, 따라서 학습을 포기하기 일수였습니다. 뉴스타파에서 나온 좋은 교재가 있지만, 파이썬이라는 휼륭하지만 비교적 비전공자에게 접근성이 떨어지는 프로그램 언어를 사용했고, 분석 이외의 부분에 크게 주목하지 않았습니다. 이는 해외의 경우에도 크게 다르지 않습니다. 이 교재는 가능한 이론적 부분, 디자인 취재 부분과 프로그래밍에 관해 그동안 쌓인 지식을 최대한 모두 다루려 노력하였습니다.</p>
<p>또 하나 매우 중요한 점 중 하나는 이 교재가 오픈 텍스트북을 지향한다는 것입니다. 첫 삽은 제가 뜨지만 이를 github에 공개하고, 데이터 저널리즘을 가르치는 강의자들이 자유롭게 내용을 업데이트, 보완 할 수 있도록 하려고 합니다.</p>
<p>이 교재는 지난 2년간 경북대학교와 언론재단에서 미디어 커뮤니케이션 전공 대학생들과 현직 기자들을 대상으로 이루어진 강의를 바탕으로 쓰여졌습니다.</p>
<p>이러한 작업을 가능하게 해 준 언론재단 본부장, 이민규 과장께 감사합니다. 그리고 관련된 여러 행정 처리를 도와준 경북대학교 고서영, 이신애 학생에게 감사를 드립니다. 특히 고서영 학생은 이 교재에 포함된 많은 삽화를 고생스럽게 그려주었습니다.</p>
<p>이 교재를 계기로 데이터 저널리즘의 교재 가뭄 현상을 해소하고, 앞으로 더 많은, 좋은 교재가 나오기를, 더 나아가 데이터 저널리즘에 대한 접근성이 증가하기를 기대해 봅니다.</p>
<p>여기에서 교재를 읽는 일종으 구조도를 알려주기! - 설치도 모르는 사람 - 프로그래밍을 조금이라도 겪어봤지만, R은 써보지 않은 사람 - R을 써 보았지만, Tidyverse를 이용한 최근 프로그래밍 트렌드에 익숙지 않은 사람 - Tidyverse도 써 보았으나, 이를 보도에 쓸 생각을 해 보지는 않은 사람.</p>
<p>추후 작성</p>
<p>R로 분석을 하는 것이 아니라, R을 이용해 기사를 ‘작성’ 한다는 관점!</p>
<p>설명은 항상 실습을 위한 것부터 -&gt; 그 다음 이론적인 설명으로…</p>
<p>이 웹사이트는 지역 언론인을 위한 개발 사이트 입니다. donorschoose.org data와 스포츠, 공공데이터 이용. 언어로는 R을 이용할 것입니다. - 상대적으로 쉽고, - 공짜고, - 해외 데이터 저널리즘 커뮤니티에서 사실상 표준으로 사용되고 있습니다.</p>
<p>R은 배포까지 가능!</p>
<p>R이 있으면 데이터 수집부터 배포까지 - 이론적으로는 어떠한 투자도 필요 없이 1인 미디어가 가능한 것.</p>
<p>https://github.com/fivethirtyeight https://github.com/TheEconomist</p>
<ul>
<li>좋은 IDE를 가지고 있고</li>
<li>바로 온라인으로 publish할 수 있는 기술이 잘 발달되어 있습니다 (공동 프로젝트 가능)
<ul>
<li>이 책 역시 같은 방식을 이용해 만들어지고 있습니다.</li>
</ul></li>
</ul>
<p>복잡한 것들을 최대한 늦게 필요할 때 가르치는 것을 목표로 합니다. 빅데이터 또는 주어진 관찰 데이터를 예시로 삼습니다.</p>
<p>저널리즘 - 시각화/데이터 스토리텔링 이론 등등</p>
<p>기초와 고급 토픽 구분</p>
<p>모든 단원 시작할 때 필요한 패키지부터.</p>
<section id="to-dos" class="level2">
<h2 class="anchored" data-anchor-id="to-dos">To-do’s</h2>
<ul>
<li>데이터 시각화 하기 2 (Optional): Storytelling
<ul>
<li>웹 프로그래밍의 응용</li>
<li>HTML, CSS 이해</li>
</ul></li>
<li>공공 데이터 이용하기
<ul>
<li>API 이해하기</li>
<li>XML, JSON 이해하기</li>
<li>For-loop, function 이해하기</li>
</ul></li>
<li>스크래이핑
<ul>
<li>고급 스크레이핑에 대한 이야기.</li>
</ul></li>
<li>고급 토픽: 공간 데이터 이용하기 + 시각화.</li>
<li>고급 토픽: 예측을 이용한 보도
<ul>
<li>주식 집값이 보편적인 예시이지만,</li>
<li>스포츠가 더 plausible한 예시.</li>
</ul></li>
<li>고급 토픽: Interactive Design</li>
<li>데이터 배포하기에 대한 이해
<ul>
<li>HTML</li>
<li>Markdown</li>
<li>Pandoc</li>
<li>Quarto</li>
<li>Github</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "복사완료!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "복사완료!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./journalism.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">데이터 저널리즘이란</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>